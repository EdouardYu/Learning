{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\n//import { useHistory } from \"react-router-dom\";\n\nimport PokemonService from \"../services/pokemon-service\";\n\n// Ceci est un hook personnalisé\nconst usePokemons = () => {\n  _s();\n  //const history = useHistory();\n\n  // ce hook personnalisé comporte d'autres hooks (useState et useEffect ici)\n  // les crochets servent pour le destructuring d'es6\n  const [pokemons, setPokemons] = useState([]);\n  // Au lieu de :\n  // const pokemonsStateVariable = useState<Pokemon[]>([]);\n  // const pokemons = pokemonsStateVariable[0];\n  // const setPokemons = pokemonsStateVariable[1];\n  // Pour récupérer seulement les pokémons, on peut faire :\n  // const [pokemons] = useState<Pokemon[]>(POKEMONS);\n\n  useEffect(() => {\n    PokemonService.getPokemons().then(response => {\n      const pokemons = response.data.map(pokemon => {\n        return {\n          ...pokemon,\n          ...{\n            created: new Date(pokemon.created)\n          }\n        };\n      });\n      setPokemons(pokemons);\n    });\n    //.catch(() => history.push(\"\"));\n  }, []);\n  // le tableau vide en argument permet d'éviter de déclencher\n  // le hook d'effet à chaque modification du composant\n  // il se déclenche que lors du premier rendu\n  // Si on ajoute des dépendances au tableau, le hook se déclenchera aussi\n  // lors de des modifications de ses dépendances\n  // Si, on ne met rien, le hook s'active à chaque modification du composant\n  console.log(pokemons);\n  return pokemons;\n};\n_s(usePokemons, \"HTV26hiVYObM9ZdttYFfm0Hoy8g=\");\nexport default usePokemons;","map":{"version":3,"names":["useState","useEffect","PokemonService","usePokemons","_s","pokemons","setPokemons","getPokemons","then","response","data","map","pokemon","created","Date","console","log"],"sources":["C:/Users/yuedo/OneDrive/Bureau/JS/React/pokedex/client/src/hooks/pokemon.hook.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n//import { useHistory } from \"react-router-dom\";\r\nimport Pokemon from \"../models/pokemon\";\r\nimport PokemonService from \"../services/pokemon-service\";\r\n\r\n// Ceci est un hook personnalisé\r\nconst usePokemons = () => {\r\n  //const history = useHistory();\r\n\r\n  // ce hook personnalisé comporte d'autres hooks (useState et useEffect ici)\r\n  // les crochets servent pour le destructuring d'es6\r\n  const [pokemons, setPokemons] = useState<Pokemon[]>([]);\r\n  // Au lieu de :\r\n  // const pokemonsStateVariable = useState<Pokemon[]>([]);\r\n  // const pokemons = pokemonsStateVariable[0];\r\n  // const setPokemons = pokemonsStateVariable[1];\r\n  // Pour récupérer seulement les pokémons, on peut faire :\r\n  // const [pokemons] = useState<Pokemon[]>(POKEMONS);\r\n\r\n  useEffect(() => {\r\n    PokemonService.getPokemons().then((response) => {\r\n      const pokemons: Pokemon[] = response.data.map((pokemon: Pokemon) => {\r\n        return { ...pokemon, ...{ created: new Date(pokemon.created) } };\r\n      });\r\n      setPokemons(pokemons);\r\n    });\r\n    //.catch(() => history.push(\"\"));\r\n  }, []);\r\n  // le tableau vide en argument permet d'éviter de déclencher\r\n  // le hook d'effet à chaque modification du composant\r\n  // il se déclenche que lors du premier rendu\r\n  // Si on ajoute des dépendances au tableau, le hook se déclenchera aussi\r\n  // lors de des modifications de ses dépendances\r\n  // Si, on ne met rien, le hook s'active à chaque modification du composant\r\n  console.log(pokemons);\r\n  return pokemons;\r\n};\r\n\r\nexport default usePokemons;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C;;AAEA,OAAOC,cAAc,MAAM,6BAA6B;;AAExD;AACA,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB;;EAEA;EACA;EACA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAY,EAAE,CAAC;EACvD;EACA;EACA;EACA;EACA;EACA;;EAEAC,SAAS,CAAC,MAAM;IACdC,cAAc,CAACK,WAAW,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;MAC9C,MAAMJ,QAAmB,GAAGI,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAEC,OAAgB,IAAK;QAClE,OAAO;UAAE,GAAGA,OAAO;UAAE,GAAG;YAAEC,OAAO,EAAE,IAAIC,IAAI,CAACF,OAAO,CAACC,OAAO;UAAE;QAAE,CAAC;MAClE,CAAC,CAAC;MACFP,WAAW,CAACD,QAAQ,CAAC;IACvB,CAAC,CAAC;IACF;EACF,CAAC,EAAE,EAAE,CAAC;EACN;EACA;EACA;EACA;EACA;EACA;EACAU,OAAO,CAACC,GAAG,CAACX,QAAQ,CAAC;EACrB,OAAOA,QAAQ;AACjB,CAAC;AAACD,EAAA,CA9BID,WAAW;AAgCjB,eAAeA,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}