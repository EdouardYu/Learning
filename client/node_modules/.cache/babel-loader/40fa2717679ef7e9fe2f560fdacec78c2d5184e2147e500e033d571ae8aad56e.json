{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yuedo\\\\OneDrive\\\\Bureau\\\\JS\\\\React\\\\pokedex\\\\client\\\\src\\\\pages\\\\login.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport AuthenticationService from \"../services/authentication-service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const history = useHistory();\n  const [form, setForm] = useState({\n    username: {\n      value: \"\"\n    },\n    password: {\n      value: \"\"\n    }\n  });\n  const [message, setMessage] = useState(\"Vous √™tes d√©connect√© Identifiant : EdouardY, Mot de passe : Pokemon\");\n  const handleInputChange = e => {\n    const fieldName = e.target.name;\n    const fieldValue = e.target.value;\n    const newField = {\n      [fieldName]: {\n        value: fieldValue\n      }\n    };\n    setForm({\n      ...form,\n      ...newField\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    setMessage(\"üëâ Tentative de connexion en cours ...\");\n    AuthenticationService.login(form.username.value, form.password.value).then(isAuthenticated => {\n      if (!isAuthenticated) {\n        setMessage(\"üîê Identifiant ou mot de passe incorrect.\");\n        return;\n      }\n      history.push(\"/pokemons\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => handleSubmit(e),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col s12 m8 offset-m2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card hoverable\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-stacked\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-content\",\n              children: [message && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-panel grey lighten-5\",\n                  children: message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"username\",\n                  children: \"Identifiant\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"username\",\n                  type: \"text\",\n                  name: \"username\",\n                  className: \"form-control\",\n                  value: form.username.value,\n                  onChange: e => handleInputChange(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"password\",\n                  children: \"Mot de passe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"password\",\n                  type: \"password\",\n                  name: \"password\",\n                  className: \"form-control\",\n                  value: form.password.value,\n                  onChange: e => handleInputChange(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-action center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn\",\n                children: \"Valider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"F1Gj79BOGl4gnsJHtdZq4k1Au7g=\", false, function () {\n  return [useHistory];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useHistory","AuthenticationService","jsxDEV","_jsxDEV","Login","_s","history","form","setForm","username","value","password","message","setMessage","handleInputChange","e","fieldName","target","name","fieldValue","newField","handleSubmit","preventDefault","login","then","isAuthenticated","push","onSubmit","children","className","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","type","onChange","_c","$RefreshReg$"],"sources":["C:/Users/yuedo/OneDrive/Bureau/JS/React/pokedex/client/src/pages/login.tsx"],"sourcesContent":["import { ChangeEvent, FunctionComponent, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AuthenticationService from \"../services/authentication-service\";\r\n\r\ntype Field = {\r\n  value?: any;\r\n  error?: string;\r\n  isValid?: boolean;\r\n};\r\n\r\ntype Form = {\r\n  username: Field;\r\n  password: Field;\r\n};\r\n\r\nconst Login: FunctionComponent = () => {\r\n  const history = useHistory();\r\n\r\n  const [form, setForm] = useState<Form>({\r\n    username: { value: \"\" },\r\n    password: { value: \"\" },\r\n  });\r\n\r\n  const [message, setMessage] = useState<string>(\r\n    \"Vous √™tes d√©connect√© Identifiant : EdouardY, Mot de passe : Pokemon\"\r\n  );\r\n\r\n  const handleInputChange = (e: ChangeEvent<HTMLInputElement>): void => {\r\n    const fieldName: string = e.target.name;\r\n    const fieldValue: string = e.target.value;\r\n    const newField: Field = { [fieldName]: { value: fieldValue } };\r\n\r\n    setForm({ ...form, ...newField });\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    setMessage(\"üëâ Tentative de connexion en cours ...\");\r\n    AuthenticationService.login(form.username.value, form.password.value).then(\r\n      (isAuthenticated) => {\r\n        if (!isAuthenticated) {\r\n          setMessage(\"üîê Identifiant ou mot de passe incorrect.\");\r\n          return;\r\n        }\r\n\r\n        history.push(\"/pokemons\");\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={(e) => handleSubmit(e)}>\r\n      <div className=\"row\">\r\n        <div className=\"col s12 m8 offset-m2\">\r\n          <div className=\"card hoverable\">\r\n            <div className=\"card-stacked\">\r\n              <div className=\"card-content\">\r\n                {/* Form message */}\r\n                {message && (\r\n                  <div className=\"form-group\">\r\n                    <div className=\"card-panel grey lighten-5\">{message}</div>\r\n                  </div>\r\n                )}\r\n                {/* Field username */}\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"username\">Identifiant</label>\r\n                  <input\r\n                    id=\"username\"\r\n                    type=\"text\"\r\n                    name=\"username\"\r\n                    className=\"form-control\"\r\n                    value={form.username.value}\r\n                    onChange={(e) => handleInputChange(e)}\r\n                  ></input>\r\n                </div>\r\n                {/* Field password */}\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"password\">Mot de passe</label>\r\n                  <input\r\n                    id=\"password\"\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    className=\"form-control\"\r\n                    value={form.password.value}\r\n                    onChange={(e) => handleInputChange(e)}\r\n                  ></input>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-action center\">\r\n                {/* Submit button */}\r\n                <button type=\"submit\" className=\"btn\">\r\n                  Valider\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}